<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="generator" content="Hexo 4.2.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Git 修改的存储、撤销与恢复 - neo1949</title><meta description=""><meta property="og:type" content="blog"><meta property="og:title" content="Git 修改的存储、撤销与恢复"><meta property="og:url" content="http://neo1949.cn/"><meta property="og:site_name" content="neo1949"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://git-scm.com/book/en/v2/images/lifecycle.png"><meta property="article:published_time" content="2020-04-26T05:26:49.592Z"><meta property="article:modified_time" content="2020-04-26T05:26:49.592Z"><meta property="article:author" content="neo1949"><meta property="article:tag" content="git"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://git-scm.com/book/en/v2/images/lifecycle.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://neo1949.cn/2020/04/26/git-store-and-restore-changes/"},"headline":"neo1949","image":["https://git-scm.com/book/en/v2/images/lifecycle.png"],"datePublished":"2020-04-26T05:26:49.592Z","dateModified":"2020-04-26T05:26:49.592Z","author":{"@type":"Person","name":"neo1949"},"description":""}</script><link rel="canonical" href="http://neo1949.cn/2020/04/26/git-store-and-restore-changes/"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.12.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/my_logo.png" alt="neo1949" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">主页</a><a class="navbar-item" href="/categories">分类</a><a class="navbar-item" href="/tags">标签</a><a class="navbar-item" href="/archives">归档</a><a class="navbar-item" href="/about">关于</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta size-small is-uppercase level is-mobile"><div class="level-left"><time class="level-item" dateTime="2020-04-26T05:26:49.592Z" title="2020-04-26T05:26:49.592Z">2020-04-26</time><span class="level-item">20 分钟 读完 (大约 2941 个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Git 修改的存储、撤销与恢复</h1><div class="content"><p><img src="https://git-scm.com/book/en/v2/images/lifecycle.png" alt="文件的状态变化周期"></p>
<a id="more"></a>
<p>理解 <code>reset</code> 和 <code>checkout</code> 命令请参考 <a href="https://git-scm.com/book/zh/v2/Git-%E5%B7%A5%E5%85%B7-%E9%87%8D%E7%BD%AE%E6%8F%AD%E5%AF%86">Git 工具 - 重置揭密</a>。</p>
<h2 id="git-add"><a href="#git-add" class="headerlink" title="git add"></a><div id="_git_add">git add</div></h2><p><code>git add &lt;file&gt;</code> 命令很简单，就是将文件添加到暂存区。</p>
<p><code>&lt;file&gt;</code> 支持通配符，比如 <code>git add *.txt</code> 将所有格式为 txt 的文件添加到暂存区。</p>
<p>可以使用 <code>git add -A</code> 或 <code>git add .</code> 添加所有本地修改的文件（包括未跟踪的文件）。</p>
<h2 id="git-checkout"><a href="#git-checkout" class="headerlink" title="git checkout"></a><div id="_git_checkout">git checkout</div></h2><p><code>git checkout</code> 命令用于撤消对文件的修改，<font color="red"><b>该命令会删除文件在本地的任何修改，请谨慎使用该命令。</b></font></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --pretty=oneline</span></span><br><span class="line">f48884c1ae2b1427e3d33d22345d66f30fe5f23c Add README file</span><br><span class="line">dcf611e337c97ea23b230e841516cae7935fd1e4 add v3 file.txt</span><br><span class="line">a0b947eb9049ad83e3f85a383e5223783fc43065 add v2 file.txt</span><br><span class="line">c8232794435b45058018355dad81e3a289ed0192 add v1 file.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   README.md</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   file.txt</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">	test.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout .</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   README.md</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">	test.txt</span><br></pre></td></tr></table></figure>
<p>如上所示，<code>checkout</code> 命令只作用于已跟踪但尚未提交到暂存区的文件，未跟踪文件以及已暂存文件不会受到影响。</p>
<h2 id="git-reset"><a href="#git-reset" class="headerlink" title="git reset"></a><div id="_git_reset">git reset</div></h2><h3 id="取消暂存的文件"><a href="#取消暂存的文件" class="headerlink" title="取消暂存的文件"></a><div id="_git_reset_to_unstage_file">取消暂存的文件</div></h3><p>使用 <code>git add .</code> 命令将本地修改全部添加到了暂存区 ，提交时发现某些文件不在本次提交范围内，可以使用 <code>git reset &lt;pathspec&gt;...</code> 命令将文件移出暂存区：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   README.md</span><br><span class="line">	modified:   file.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset README.md</span></span><br><span class="line">Unstaged changes after reset:</span><br><span class="line">M	README.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">	modified:   file.txt</span><br><span class="line"></span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   README.md</span><br></pre></td></tr></table></figure></p>
<p><code>reset</code> 命令后面参数为路径名时，不用担心误使用 <code>--hard</code> 模式选项会导致本地修改丢失。如果参数为路径名，同时指定模式名称，系统会提示错误：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard test.md</span></span><br><span class="line">fatal: Cannot do hard reset with paths.</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --soft test.md</span></span><br><span class="line">fatal: Cannot do soft reset with paths.</span><br></pre></td></tr></table></figure></p>
<h2 id="git-stash"><a href="#git-stash" class="headerlink" title="git stash"></a><div id="_git_stash_command">git stash</div></h2><p>在开发中经常遇到这种情况，在 <code>dev</code> 分支上开发新功能时，有新的 bug 需要马上解决，此时新功能尚未开发完，不想增加一个脏提交，这时可以使用 <code>git stash</code> 命令。<code>git stash</code> 用于保存和恢复工作状态。</p>
<h3 id="查看存储列表"><a href="#查看存储列表" class="headerlink" title="查看存储列表"></a><div id="_git_stash_list">查看存储列表</div></h3><p>使用 <code>git stash list</code> 查看已存储状态的列表：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br></pre></td></tr></table></figure></p>
<h3 id="查看指定状态的-diff"><a href="#查看指定状态的-diff" class="headerlink" title="查看指定状态的 diff"></a><div id="_git_stash_show">查看指定状态的 diff</div></h3><p>使用 <code>git stash show [-p|–patch] [&lt;stash>]</code> 查看指定 stash 的 diff：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash show</span></span><br><span class="line"> test2.md | 1 +</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"></span><br><span class="line"><span class="meta"> $</span><span class="bash"> git stash show -p stash@&#123;1&#125;</span></span><br><span class="line"> diff --git a/test1.md b/test1.md</span><br><span class="line"> new file mode 100644</span><br><span class="line"> index 0000000..e4fc91c</span><br><span class="line"> --- /dev/null</span><br><span class="line"> +++ b/test1.md</span><br><span class="line"> @@ -0,0 +1 @@</span><br><span class="line"> +"This is test1.md file"</span><br><span class="line"></span><br><span class="line"><span class="meta"> $</span><span class="bash"> git stash show --patch stash@&#123;2&#125;</span></span><br><span class="line">diff --git a/test.md b/test.md</span><br><span class="line">new file mode 100644</span><br><span class="line">index 0000000..4a32ea6</span><br><span class="line">--- /dev/null</span><br><span class="line">+++ b/test.md</span><br><span class="line">@@ -0,0 +1 @@</span><br><span class="line">+"This is test.md file"</span><br></pre></td></tr></table></figure></p>
<p><code>git stash show [&lt;stash&gt;]</code> 显示改动的信息，即哪些文件发生了改变，有多行产生了改动。</p>
<p><code>git stash show -p [&lt;stash&gt;]</code> 显示改动的具体内容。</p>
<h3 id="保存状态"><a href="#保存状态" class="headerlink" title="保存状态"></a><div id="_git_stash_save">保存状态</div></h3><p>保存当前工作目录中的状态：<code>git stash save [-u|-a] &quot;message&quot;</code></p>
<p><code>git stash</code> 保存所有 <strong>已跟踪</strong> 文件的修改，但不保存 <strong>未跟踪</strong> 的文件（git 文件状态请参考<a href="https://git-scm.com/book/zh/v2/Git-%E5%9F%BA%E7%A1%80-%E8%AE%B0%E5%BD%95%E6%AF%8F%E6%AC%A1%E6%9B%B4%E6%96%B0%E5%88%B0%E4%BB%93%E5%BA%93">记录每次更新到仓库</a>）。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test1.md</span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line">Saved working directory and index state WIP on master: bb764d6 Add locale youtube download shell</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        test.md</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash</span></span><br><span class="line">No local changes to save</span><br></pre></td></tr></table></figure>
<p>如上所示，<code>git stash</code> 不会存储尚未跟踪的文件 test.md，保存未追踪的文件系统会提示 “No local changes to save”。</p>
<p>使用 <code>git stash -u|--include-untracked</code> 在存储时包含未跟踪的文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test1.md</span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash save -u <span class="string">"stash files include untracked files"</span></span></span><br><span class="line">Saved working directory and index state On master: stash files include untracked files</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure></p>
<p>无论是 <code>git stash</code> 或 <code>git stash -u</code> 都不包含被忽略的文件。如果想要包含被忽略的文件，则需要使用 <code>git stash -a|--all</code> 命令，该命令会将所有已跟踪文件、未跟踪文件以及被忽略的文件存储到状态中：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> cat .gitignore</span></span><br><span class="line">log/</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test1.md</span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ls -l <span class="built_in">log</span>\</span></span><br><span class="line">total 1</span><br><span class="line">-rw-r--r-- 1 neo1949 197609 23 4月  12 01:04 log.txt</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash save -a <span class="string">"stash files include untracked and ignored files"</span></span></span><br><span class="line">Saved working directory and index state On master: stash files include untracked and ignored files</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure></p>
<p>实际开发时，<strong>禁止</strong> 直接使用 <code>git stash</code> 命令，而是使用 <code>git stash save [-u|-a] &quot;message&quot;</code> 在保存状态时添加修改说明。禁止理由如下：有时保存了工作状态，但相关功能暂时不需要了，添加修改说明可以方便日后快速预览所有状态，不用再比对 diff 反推当时为何添加某个修改。相信我，如果你时隔几个月再去查看以前保存的某个状态，一定会赞同此说法。</p>
<h3 id="恢复状态"><a href="#恢复状态" class="headerlink" title="恢复状态"></a><div id="_git_stash_restore">恢复状态</div></h3><h4 id="恢复并删除状态"><a href="#恢复并删除状态" class="headerlink" title="恢复并删除状态"></a><div id="_git_stash_pop">恢复并删除状态</div></h4><p>恢复状态的同时从存储列表中删除该状态： <code>git stash pop [--index] [&lt;stash&gt;]</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: save test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: save test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: save test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash pop</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line">Dropped refs/stash@&#123;0&#125; (bf0fba50dd944507668419b6502acceb935eb262)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash pop stash@&#123;1&#125;</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test.md</span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line">Dropped stash@&#123;1&#125; (ecee645f4fff9e493fa56dd6df9eccd579e90114)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test1.md</span><br></pre></td></tr></table></figure></p>
<h4 id="只恢复状态"><a href="#只恢复状态" class="headerlink" title="只恢复状态"></a><div id="_git_stash_apply">只恢复状态</div></h4><p>恢复状态时，不会从存储列表中删除该状态： <code>git stash apply [--index] [&lt;stash&gt;]</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash apply</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash apply stash@&#123;1&#125;</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up to date with 'origin/master'.</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git reset HEAD &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   test1.md</span><br><span class="line">        new file:   test2.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br></pre></td></tr></table></figure></p>
<h3 id="删除状态"><a href="#删除状态" class="headerlink" title="删除状态"></a><div id="_git_stash_drop">删除状态</div></h3><p>删除指定状态： <code>git stash drop [&lt;stash&gt;]</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash drop</span></span><br><span class="line">Dropped refs/stash@&#123;0&#125; (579fcf40727d31a15c76065ff465ef66d8ba4805)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash drop stash@&#123;1&#125;</span></span><br><span class="line">Dropped stash@&#123;1&#125; (561d3c994a0d1e4415483776fcaa0d5db42929ff)</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test1.md</span><br></pre></td></tr></table></figure></p>
<p>删除所有状态： <code>git stash clear</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br><span class="line">stash@&#123;0&#125;: On master: add test2.md</span><br><span class="line">stash@&#123;1&#125;: On master: add test1.md</span><br><span class="line">stash@&#123;2&#125;: On master: add test.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash clear</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git stash list</span></span><br></pre></td></tr></table></figure></p>
<p><strong>注意：</strong> 删除状态时，修改的内容也会被删除。</p>
<h2 id="恢复修改"><a href="#恢复修改" class="headerlink" title="恢复修改"></a><div id="_resotre_changes">恢复修改</div></h2><h3 id="恢复本地已提交的修改"><a href="#恢复本地已提交的修改" class="headerlink" title="恢复本地已提交的修改"></a><div id="_restore_committed_changes">恢复本地已提交的修改</div></h3><p>本地修改已经 <code>commit</code>，然后某个时刻在分支中使用了 <code>git reset --hard &lt;commit&gt;</code> 命令重置了索引和目录树，<code>reset</code> 后发现修改还没有 <code>push</code> 到服务器，可以使用以下方式恢复修改。</p>
<p>示例：本地提交后重置了当前分支的 <code>HEAD</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --abbrev-commit --pretty=oneline -3</span></span><br><span class="line">13f83a3 Summary: Generate a commit log in repository for 'git rebase' test</span><br><span class="line">2617b13 Merge branch 'test'</span><br><span class="line">0c61754 Merge branch 'tmp'</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim git.md</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add git.md</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">"Add git command summary"</span></span></span><br><span class="line">[master ef88a9c] Add git command summary</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 git.md</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --abbrev-commit --pretty=oneline -3</span></span><br><span class="line">ef88a9c Add git command summary</span><br><span class="line">13f83a3 Summary: Generate a commit log in repository for 'git rebase' test</span><br><span class="line">2617b13 Merge branch 'test'</span><br><span class="line"></span><br><span class="line">// commit 之后未 push 到服务器执行了 reset 命令</span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard 2617b13</span></span><br><span class="line">HEAD is now at 2617b13 Merge branch 'test'</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --abbrev-commit --pretty=oneline -3</span></span><br><span class="line">2617b13 Merge branch 'test'</span><br><span class="line">0c61754 Merge branch 'tmp'</span><br><span class="line">b1de099 Merge branch 'dev'</span><br></pre></td></tr></table></figure></p>
<p>现在需要将 <code>ef88a9c</code> 对应的提交推送到服务器 ，那么首先需要恢复该修改，有如下方式。</p>
<h4 id="利用-SHA-1-校验和恢复修改"><a href="#利用-SHA-1-校验和恢复修改" class="headerlink" title="利用 SHA-1 校验和恢复修改"></a><div id="_use_sha1_to_restore_uncommitted_changes">利用 SHA-1 校验和恢复修改</div></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard ef88a9c</span></span><br><span class="line">HEAD is now at ed74a3e Add git command summary</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout ef88a9c</span></span><br><span class="line">Note: checking out 'ef88a9c'.</span><br><span class="line"></span><br><span class="line">You are in 'detached HEAD' state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -b with the checkout command again. Example:</span><br><span class="line"></span><br><span class="line">  git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">HEAD is now at ef88a9c... Add git command summary</span><br></pre></td></tr></table></figure>
<h4 id="利用-reflog-命令恢复修改"><a href="#利用-reflog-命令恢复修改" class="headerlink" title="利用 reflog 命令恢复修改"></a><div id="_use_reflog_to_restore_uncommitted_changes">利用 <code>reflog</code> 命令恢复修改</div></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git reflog</span></span><br><span class="line">2617b13 HEAD@&#123;0&#125;: reset: moving to 2617b13</span><br><span class="line">ef88a9c HEAD@&#123;1&#125;: commit: Add git command summary</span><br><span class="line">13f83a3 HEAD@&#123;2&#125;: clone: from https://github.com/neo1949/GitTest.git</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard HEAD@&#123;1&#125;</span></span><br><span class="line">HEAD is now at ed74a3e Add git command summary</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git checkout HEAD@&#123;1&#125;</span></span><br><span class="line">Note: checking out 'HEAD@&#123;1&#125;'.</span><br><span class="line"></span><br><span class="line">You are in 'detached HEAD' state. You can look around, make experimental</span><br><span class="line">changes and commit them, and you can discard any commits you make in this</span><br><span class="line">state without impacting any branches by performing another checkout.</span><br><span class="line"></span><br><span class="line">If you want to create a new branch to retain commits you create, you may</span><br><span class="line">do so (now or later) by using -b with the checkout command again. Example:</span><br><span class="line"></span><br><span class="line">  git checkout -b &lt;new-branch-name&gt;</span><br><span class="line"></span><br><span class="line">HEAD is now at ef88a9c... Add git command summary</span><br></pre></td></tr></table></figure>
<h3 id="无法恢复修改的情形"><a href="#无法恢复修改的情形" class="headerlink" title="无法恢复修改的情形"></a><div id="_changes_unable_to_restore"><font color="red">无法恢复修改的情形</font></div></h3><p>如果使用 <code>git checkout &lt;pathspec&gt;</code> 命令撤销了未提交到暂存区的本地修改，<code>git</code> 没有可用命令恢复修改。这种时候可以使用软件的 <code>Ctrl + Z</code> 回退功能：立即找到被撤销修改的文件执行回退操作，如果软件的回退功能也无法找回修改，那么只能 “恭喜” 你了！</p>
<p>使用 <code>git reset --hard &lt;commit&gt;</code> 重置分支 <code>HEAD</code> 时，如果本地修改尚未提交，那么本地已跟踪文件的修改同样会丢失，并且无法恢复：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git st</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with 'origin/master'.</span><br><span class="line">Changes not staged for commit:</span><br><span class="line">  (use "git add &lt;file&gt;..." to update what will be committed)</span><br><span class="line">  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)</span><br><span class="line"></span><br><span class="line">	modified:   test.md</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">	Test.java</span><br><span class="line"></span><br><span class="line">no changes added to commit (use "git add" and/or "git commit -a")</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span> --abbrev-commit --pretty=oneline -3</span></span><br><span class="line">13f83a3 Summary: Generate a commit log in repository for 'git rebase' test</span><br><span class="line">2617b13 Merge branch 'test'</span><br><span class="line">0c61754 Merge branch 'tmp'</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard 0c61754</span></span><br><span class="line">HEAD is now at 0c61754 Merge branch 'tmp'</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is behind 'origin/master' by 3 commits, and can be fast-forwarded.</span><br><span class="line">  (use "git pull" to update your local branch)</span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">	Test.java</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br></pre></td></tr></table></figure></p>
<p>如果文件处于 <code>Untracked</code> 状态，那么文件不会丢失，这可能是使用 <code>reset</code> 命令导致修改丢失唯一不那么难受的事情了。</p>
<p><font color="red">因此，谨慎以下两种情形，因为本地修改可能无法恢复：</font></p>
<ol>
<li>使用 <code>git checkout &lt;pathspec&gt;</code> 撤销本地已跟踪文件的修改</li>
<li>本地修改未提交时使用 <code>git reset --hard &lt;commit&gt;</code> 命令</li>
</ol>
</div><div class="article-tags size-small is-uppercase mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/git/">git</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button is-info donate"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/" alt="支付宝"></span></a><a class="button is-success donate"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2018/08/29/xliff-in-android-string-resources/"><span class="level-item">Android xliff 介绍</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3 is-sticky"><div class="card widget" id="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="is-flex" href="#git-add"><span class="mr-2">1</span><span>git add</span></a></li><li><a class="is-flex" href="#git-checkout"><span class="mr-2">2</span><span>git checkout</span></a></li><li><a class="is-flex" href="#git-reset"><span class="mr-2">3</span><span>git reset</span></a><ul class="menu-list"><li><a class="is-flex" href="#取消暂存的文件"><span class="mr-2">3.1</span><span>取消暂存的文件</span></a></li></ul></li><li><a class="is-flex" href="#git-stash"><span class="mr-2">4</span><span>git stash</span></a><ul class="menu-list"><li><a class="is-flex" href="#查看存储列表"><span class="mr-2">4.1</span><span>查看存储列表</span></a></li><li><a class="is-flex" href="#查看指定状态的-diff"><span class="mr-2">4.2</span><span>查看指定状态的 diff</span></a></li><li><a class="is-flex" href="#保存状态"><span class="mr-2">4.3</span><span>保存状态</span></a></li><li><a class="is-flex" href="#恢复状态"><span class="mr-2">4.4</span><span>恢复状态</span></a><ul class="menu-list"><li><a class="is-flex" href="#恢复并删除状态"><span class="mr-2">4.4.1</span><span>恢复并删除状态</span></a></li><li><a class="is-flex" href="#只恢复状态"><span class="mr-2">4.4.2</span><span>只恢复状态</span></a></li></ul></li><li><a class="is-flex" href="#删除状态"><span class="mr-2">4.5</span><span>删除状态</span></a></li></ul></li><li><a class="is-flex" href="#恢复修改"><span class="mr-2">5</span><span>恢复修改</span></a><ul class="menu-list"><li><a class="is-flex" href="#恢复本地已提交的修改"><span class="mr-2">5.1</span><span>恢复本地已提交的修改</span></a><ul class="menu-list"><li><a class="is-flex" href="#利用-SHA-1-校验和恢复修改"><span class="mr-2">5.1.1</span><span>利用 SHA-1 校验和恢复修改</span></a></li><li><a class="is-flex" href="#利用-reflog-命令恢复修改"><span class="mr-2">5.1.2</span><span>利用 reflog 命令恢复修改</span></a></li></ul></li><li><a class="is-flex" href="#无法恢复修改的情形"><span class="mr-2">5.2</span><span>无法恢复修改的情形</span></a></li></ul></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/my_logo.png" alt="neo1949" height="28"></a><p class="size-small"><span>&copy; 2020 neo1949</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Star icarus on Github" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            site: {
                url: 'http://neo1949.cn',
                external_link: {"enable":true,"exclude":[]}
            },
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>